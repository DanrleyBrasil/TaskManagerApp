spring.application.name=TaskManager

# ============================================
# CONFIGURAÇÕES DO SERVIDOR
# ============================================
# Define em qual porta a aplicação vai rodar
# 8080 é a porta padrão do Spring, mas você pode mudar
server.port=8080

# ============================================
# CONFIGURAÇÕES DO BANCO DE DADOS (PostgreSQL)
# ============================================
# URL de conexão com o PostgreSQL
# localhost:5432 = onde o PostgreSQL está rodando (Docker)
# taskmanager_db = nome do banco de dados que vamos criar
spring.datasource.url=jdbc:postgresql://localhost:5432/taskmanager_db

# Usuário do banco de dados
# "postgres" é o usuário padrão do PostgreSQL
spring.datasource.username=postgres

# Senha do banco de dados
# TODO - Necessário mudar para algo mais seguro em produção
spring.datasource.password=postgres123
# Exemplo de como usar variáveis de ambiente em produção:
#spring.datasource.password=${DB_PASSWORD}

# Driver JDBC do PostgreSQL
# É a "ponte" entre Java e PostgreSQL
spring.datasource.driver-class-name=org.postgresql.Driver

# ============================================
# CONFIGURAÇÕES DO JPA/HIBERNATE
# ============================================
# Dialeto do Hibernate para PostgreSQL
# Traduz comandos Java para SQL específico do PostgreSQL
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Mostra os SQLs gerados no console (útil para aprender/debugar)
# Em produção, deixe como false
spring.jpa.show-sql=true

# Formata os SQLs no console para ficar mais legível
spring.jpa.properties.hibernate.format_sql=true

# IMPORTANTE: Não deixa o Hibernate criar/alterar tabelas automaticamente
# Vamos usar FLYWAY para isso! (controle de versão do banco)
spring.jpa.hibernate.ddl-auto=validate

# ============================================
# CONFIGURAÇÕES DO FLYWAY
# ============================================
# Ativa o Flyway (gerenciador de migrations)
spring.flyway.enabled=true

# Local onde ficam os arquivos de migration (scripts SQL)
# Por padrão o Flyway procura em: src/main/resources/db/migration
spring.flyway.locations=classpath:db/migration

# Nome base para as migrations (prefixo dos arquivos)
spring.flyway.baseline-on-migrate=true

# ============================================
# CONFIGURAÇÕES DE SEGURANÇA (JWT)
# ============================================
# Chave secreta para assinar o JWT
# TODO - Em produção, use uma chave forte e guarde em variável de ambiente!
# Esta chave deve ter pelo menos 256 bits (32 caracteres)
jwt.secret=minha-chave-super-secreta-de-256-bits-para-assinar-tokens-jwt
#jwt.secret=${JWT_SECRET}

# Tempo de expiração do token em milissegundos
# 86400000 ms = 24 horas
jwt.expiration=86400000

# ============================================
# CONFIGURAÇÕES DO SWAGGER/OpenAPI
# ============================================
# Caminho onde a documentação Swagger estará disponível
# Acesse: http://localhost:8080/swagger-ui.html
springdoc.swagger-ui.path=/swagger-ui.html

# Caminho da API docs em JSON
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.disable-swagger-default-url=true

spring.web.resources.add-mappings=true
logging.level.org.springframework.web.servlet.resource.ResourceHttpRequestHandler=ERROR

# ============================================
# CONFIGURAÇÕES DE LOG
# ============================================
# Nível de log da aplicação (DEBUG mostra mais detalhes)
logging.level.com.taskmanager=DEBUG

# Nível de log do Hibernate (para ver queries SQL detalhadas)
logging.level.org.hibernate.SQL=DEBUG

# Mostra os valores dos parâmetros nas queries SQL
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE