spring.application.name=TaskManager

# ============================================
# CONFIGURACOES DO SERVIDOR
# ============================================
# Define em qual porta a aplicacao vai rodar
# 8080 e a porta padrao do Spring, mas voce pode mudar
server.port=8080

# ============================================
# CONFIGURACOES DO BANCO DE DADOS (PostgreSQL)
# ============================================
# URL de conexao com o PostgreSQL
# localhost:5432 = onde o PostgreSQL esta rodando (Docker)
# taskmanager_db = nome do banco de dados que vamos criar
spring.datasource.url=jdbc:postgresql://localhost:5432/taskmanager_db

# Usuario do banco de dados
# "postgres" e o usuario padrao do PostgreSQL
spring.datasource.username=postgres

# Senha do banco de dados
# TODO - Necessario mudar para algo mais seguro em producao
spring.datasource.password=postgres123
# Exemplo de como usar variaveis de ambiente em producao:
#spring.datasource.password=${DB_PASSWORD}

# Driver JDBC do PostgreSQL
# E a "ponte" entre Java e PostgreSQL
spring.datasource.driver-class-name=org.postgresql.Driver

# ============================================
# CONFIGURACOES DO JPA/HIBERNATE
# ============================================
# Dialeto do Hibernate para PostgreSQL
# Traduz comandos Java para SQL especifico do PostgreSQL
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Mostra os SQLs gerados no console (util para aprender/debugar)
# Em producao, deixe como false
spring.jpa.show-sql=true

# Formata os SQLs no console para ficar mais legivel
spring.jpa.properties.hibernate.format_sql=true

# IMPORTANTE: Nao deixa o Hibernate criar/alterar tabelas automaticamente
# Vamos usar FLYWAY para isso! (controle de versao do banco)
spring.jpa.hibernate.ddl-auto=validate

# ============================================
# CONFIGURACOES DO FLYWAY
# ============================================
# Ativa o Flyway (gerenciador de migrations)
spring.flyway.enabled=true

# Local onde ficam os arquivos de migration (scripts SQL)
# Por padrao o Flyway procura em: src/main/resources/db/migration
spring.flyway.locations=classpath:db/migration

# Nome base para as migrations (prefixo dos arquivos)
spring.flyway.baseline-on-migrate=true

# ============================================
# CONFIGURACOES DE SEGURANCA (JWT)
# ============================================
# Chave secreta para assinar o JWT
# TODO - Em producao, use uma chave forte e guarde em variavel de ambiente!
# Esta chave deve ter pelo menos 256 bits (32 caracteres)
jwt.secret=minha-chave-super-secreta-de-256-bits-para-assinar-tokens-jwt
#jwt.secret=${JWT_SECRET}

# Tempo de expiracao do token em milissegundos
# 86400000 ms = 24 horas
jwt.expiration=86400000

# ============================================
# CONFIGURACOES DO SWAGGER/OpenAPI
# ============================================
# Caminho onde a documentacao Swagger estara disponivel
# Acesse: http://localhost:8080/swagger-ui.html
springdoc.swagger-ui.path=/swagger-ui.html

# Caminho da API docs em JSON
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.disable-swagger-default-url=true

spring.web.resources.add-mappings=true
logging.level.org.springframework.web.servlet.resource.ResourceHttpRequestHandler=ERROR

# ============================================
# CONFIGURACOES DE LOG
# ============================================
# Nivel de log da aplicacao (DEBUG mostra mais detalhes)
logging.level.com.taskmanager=DEBUG

# Nivel de log do Hibernate (para ver queries SQL detalhadas)
logging.level.org.hibernate.SQL=DEBUG

# Mostra os valores dos parametros nas queries SQL
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE